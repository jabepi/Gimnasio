<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="UTF-8">
    <meta name="keywords" content="Alimentación, Ejercicio, Fitnes, Salud, Entrenador, Rutina">
    <meta name="desciption" content="Web de vida saludable con ejercicios y alimentación">
    <meta name="authors" content="Martin Campos Zamora y Javier Beiro Piñón">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="CSS/main.css">
    <title>FitYou</title>
</head>


<body>

<!--Elementos Cabecera/Menu-->
<div class="fijo">

    <header class="cabecera">
        <!--Logo-->
        <figure><a href="index.html"> <img class="logo" src="CSS/Imagenes/Cabecera/Logo.png" alt="Logo">
        </a></figure>

        <!--cabecera-->
        <figure><img class="cabecera" src="CSS/Imagenes/Cabecera/Cabecera.png" alt="Cabecera"></figure>

        <!-- Menú de Log y Registro-->
        <ul class="sign_log">
            <li><a href="HTML/logIn.html"> Login </a></li>
            <li><a href="HTML/registro.html"> Registro </a></li>
        </ul>
    </header>
    <!-- Menú pricipal-->

    <nav>
        <ul class="menu">
            <li><a href="HTML/Entrenadores/entrenadores.html"> Entrenadores </a></li>
            <li><a onclick="cargaRutinas()"> Rutinas </a></li>
            <li><a href="HTML/Ejercicios/ejercicios.html"> Ejercicio </a></li>
            <li><a href="HTML/Alimentacion/alimentacion.html"> Alimetación </a></li>
        </ul>
    </nav>
</div>

<!-- Cuerpo de la página-->

<main class="contendio">

    <h1>Contenido nuevo</h1>

    <section>
        <h2>Nuevas Recetas</h2>
        <div class="scrollH">
            <a href="HTML/Alimentacion/Definicion/1.EnsaladaLentejas.html">
                <img src="CSS/Imagenes/Comida/CremaGuisantes.png" alt="Crema Guisantes"></a>

            <a href="HTML/Alimentacion/Definicion/2.papiloteBacalao.html">
                <img src="CSS/Imagenes/Comida/Papillote.png" alt="Papillote">
            </a>

            <a href="HTML/Alimentacion/Definicion/1.EnsaladaLentejas.html">
                <img src="CSS/Imagenes/Comida/Ensalada.png" alt="Ensalada">
            </a>
            <a href="HTML/Alimentacion/Definicion/1.EnsaladaLentejas.html">
                <img src="CSS/Imagenes/Comida/EnsaladaTomate.png" alt="Ensalada">
            </a>
            <a href="HTML/Alimentacion/Definicion/1.EnsaladaLentejas.html">
                <img src="CSS/Imagenes/Comida/CremaGuisantes.png" alt="Crema de Guisantes">
            </a>
            <a href="HTML/Alimentacion/Definicion/2.papiloteBacalao.html">
                <img src="CSS/Imagenes/Comida/Papillote.png" alt="Papillote">
            </a>

            <a href="HTML/Alimentacion/Definicion/1.EnsaladaLentejas.html">
                <img src="CSS/Imagenes/Comida/Ensalada.png" alt="Ensalada">
            </a>
            <a href="HTML/Alimentacion/Definicion/1.EnsaladaLentejas.html">
                <img src="CSS/Imagenes/Comida/EnsaladaTomate.png" alt="Ensalada Tomate">
            </a>
            <a href="HTML/Alimentacion/Definicion/1.EnsaladaLentejas.html">
                <img src="CSS/Imagenes/Comida/CremaGuisantes.png" alt="Crema de Guisantes">
            </a>
            <a href="HTML/Alimentacion/Definicion/2.papiloteBacalao.html">
                <img src="CSS/Imagenes/Comida/Papillote.png" alt="Papillote">
            </a>

        </div>
    </section>

    <section>
        <h2>Nuevas rutinas</h2>
        <div class="scrollH">
            <a href="HTML/Rutinas/Espalda/espalda.html">
                <img src="CSS/Imagenes/Rutinas/Main/Espalda.png"></a>

            <a href="HTML/Rutinas/Biceps/biceps.html">
                <img src="CSS/Imagenes/Rutinas/Main/Biceps.png"></a>
            </a>

            <a href="HTML/Rutinas/Espalda/espalda.html">
                <img src="CSS/Imagenes/Rutinas/Main/Espalda.png"></a>
            </a>
            <a href="HTML/Rutinas/Espalda/espalda.html">
                <img src="CSS/Imagenes/Rutinas/Main/Espalda.png"></a>
            </a>
            <a href="HTML/Rutinas/Biceps/biceps.html">
                <img src="CSS/Imagenes/Rutinas/Main/Biceps.png"></a>
            </a>
            <a href="HTML/Rutinas/Espalda/espalda.html">
                <img src="CSS/Imagenes/Rutinas/Main/Espalda.png"></a>
            </a>
        </div>
    </section>

    <section>
        <h2>Nuevos Videos de Entrenadores</h2>
        <div class="scrollH">
            <a href="HTML/Entrenadores/martin/videos.html">
                <img src="CSS/Imagenes/Entrenadores/Sergio.png"></a>

            <a href="HTML/Entrenadores/martin/videos.html">
                <img src="CSS/Imagenes/Entrenadores/Raul.png"></a>

            <a href="HTML/Entrenadores/martin/videos.html">
                <img src="CSS/Imagenes/Entrenadores/Sergio.png"></a>
            </a>
            <a href="HTML/Entrenadores/martin/videos.html">
                <img src="CSS/Imagenes/Entrenadores/Raul.png"></a>

            <a href="HTML/Entrenadores/martin/videos.html">
                <img src="CSS/Imagenes/Entrenadores/Sergio.png"></a>
            </a>
            <a href="HTML/Entrenadores/martin/videos.html">
                <img src="CSS/Imagenes/Entrenadores/Raul.png"></a>
        </div>
    </section>
</main>


<script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
        crossorigin="anonymous"></script>

<script src="JS/Decorator/decComun.js"></script>

<!--Movimiento al inicio-->
<script>

    //Desplazamos la cabecera
    var fijo = $(".fijo");

    //Definimos la posisición de la cabecera fuera de marco visible
    fijo.get(0).style.top = "-" + fijo.get(0).offsetHeight + "px";
    fijo.get(0).style.transition = "none";

    //Definimos un retraso para la aparición
    setTimeout(function () {

        //Devolvemos la cabecera a su posición original añadiendo una transición de 2s
        var fijo = $(".fijo").get(0);
        fijo.style.top = "0";
        fijo.style.transition = "all 2s";

    }, 300);


    //Desplazamos las barras de elementos nuevos
    $(".scrollH").each(function (elem) {

        //Obenemos nos el primer elemento de cada lista
        var scroll = $(".scrollH");
        var tarjeta = scroll.get(elem).firstElementChild;

        //Modificamos los margenes para que las listas desaparezcan de la pantalla
        if (elem % 2 === 0) {
            //Auemtamos el margen izquierdo
            tarjeta.style.marginLeft = scroll.get(elem).scrollWidth + "px";
        }
        //En las listas impares
        else {
            //Reducimos el margen a valores negativos
            tarjeta.style.marginLeft = "-" + scroll.get(elem).scrollWidth + "px";
        }

        //Después de 0,3 segundos restauramos la posición original de las listas
        setTimeout(function () {

            //Restauramos los márgenes a su posición original
            var tarjeta = $(".scrollH").get(elem).firstElementChild;
            tarjeta.style.marginLeft = 0;

            //Utilizamos una transición de 2 segundos
            tarjeta.style.transition = "all 2s";

        }, 300)
    });
</script>

<!--Scroll automático-->
<script>

    //Definimos una función arrow que se ejecutará de forma cíclica (propias ES6)
    myFunction = () => {

        //Recorremos todas las lista de la pantalla
        $(".scrollH").each(function (elem) {

            //Obtenemos la lista
            var scroll = $(".scrollH")[elem];
            scroll.style.scrollBehavior = 'smooth';

            //Modificamos la posición del scroll de la lista
            var desp = scroll.scrollLeft += scroll.firstElementChild.offsetWidth;
            scroll.scrollLeft = desp;

            //En caso de que se haya llegado al final volvemos a empezar
            if (desp >= scroll.scrollWidth - $(".scrollH").outerWidth()) {
                scroll.scrollLeft = 0;
            }
        });

    }
    //Utilizamos setIntervar para ejecutar la función de forma cíclica cada 6 segundos
    var intervalo = setInterval(myFunction, 6000);

</script>


<!--Carga de Rutinas con JSON-->

<script>
    function cargaRutinas() {
        //Paramos el script de movimiento de objetos
        clearInterval(intervalo);

        //Obtenemos la nueva información del JSON
        $.getJSON("./DatosDinamicos/cargaRutinas.json", function (json) {
            var lista = document.getElementsByClassName("menu");
            lista[0].children[1].firstElementChild.style.color = '#FACC02';
            lista[0].children[1].firstElementChild.style.textDecoration = "underline";

            var contenido = $(".contendio");

            //Borramos el contenido que habían en la página
            contenido.get(0).innerHTML = "";
            //Añadimos el título
            contenido.append("<h1>" + json.titulo.contenido + "</h1>");

            //Obtenemos las rutas de los objetos
            var rutaGlobalImg = json.rutas.rutaImagenes;
            var rutaGlobalLink = json.rutas.rutaLink;

            //Obtenemos el contenido del JSON
            var aux = "<section> <div class=\"listaV\">";
            $.each(json.imagenes, function (key, val) {
                aux += "<div class=\"rutina\">";                             //Creamos las etiqueta de separación
                aux += "<a href=\"" + rutaGlobalLink + val.rutaLink + "\">"; //Cargamos la refeencia
                aux += "<img src=\"" + rutaGlobalImg + val.imagen +          //Cargamos la imagen
                    "\" alt=" + val.imagen + "></a>";
                aux += "</div>";                                             //Cerramos la etiqueta de separacioón
            });
            aux += "</div> </section>";

            //Insertamos el contenido de la página
            contenido.append(aux);
        })
    }
</script>


</body>
</html>